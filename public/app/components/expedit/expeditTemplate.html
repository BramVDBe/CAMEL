<h3>Edit Experiment</h3>

{{exp}}
<hr>
{{fields}}

<h4>{{exp.name}}</h4>

<form>
  <div class="formgroup" data-ng-repeat="field in fields" data-ng-if="exp.fields.hasOwnProperty(field.id)">
    <label>{{field.title}}</label>
    <div data-ng-switch="field.type_column">
      <div data-ng-switch-when="value_VARCHAR">
	<div data-ng-repeat="field_value in exp.fields[field.id]">
	  <input type="text" class="form-control" data-ng-model="field_value">
	</div>
      </div>
      <div data-ng-switch-when="value_TEXT">
	<textarea class="form-control" data-ng-model="exp.fields[field.id][0]"></textarea>
      </div>
      <div data-ng-switch-when="value_INT">
	<div data-ng-repeat="field_value in exp.fields[field.id]">
	  <input type="text" class="form-control" data-ng-model="field_value">
	</div>
      </div>
      <div data-ng-switch-when="value_BOOL">
	<input type="checkbox" class="form-control"
	       data-ng-true-value="1" data-ng-false-value="0"
	       data-ng-model="exp.fields[field.id]">
      </div>
      <div data-ng-switch-when="value_DOUBLE">
	<div data-ng-repeat="field_value in exp.fields[field.id]">
	  <input type="text" class="form-control" data-ng-model="field_value">
	</div>
      </div>
    </div>
    <small class="form-text text-muted">{{field.description}}</small>
  </div>
</form>
