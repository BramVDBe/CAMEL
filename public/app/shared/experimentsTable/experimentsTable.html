<div>
  <ul>
    <li data-ng-repeat="field in fields">{{field.title}}</li>
  </ul>
</div>
<div>
  <table id="experiment-table" class="table table-striped table-hover">
    <thead class="thead-dark">
      <tr>
	<th scope="col">Name</th>
        <th scope="col" data-ng-repeat="field in fields" data-ng-if="field.show">
	  {{field.title}} <span data-ng-if="field.unit">({{field.unit}})</span>
	</th>
      </tr>
    </thead>
    <tbody>
      <tr data-ng-repeat="experiment in experiments" data-ng-click="showExperiment(experiment)" class="pointer">
	<th scope="row">{{experiment.name}}</th>
	<td data-ng-repeat="field in fields" data-ng-if="field.show">
	  <div data-ng-switch="field.type_column">
	    <div data-ng-switch-when="value_BOOL">
	      <div data-ng-if="experiment.fields[field.id]!=null">
		{{experiment.fields[field.id]? 'TRUE':'FALSE'}}		
	      </div>
	    </div>
	    <div data-ng-switch-when="value_VARCHAR">
	      <div data-ng-if="field.link">
		<a href="{{experiment.fields[field.id]}}">{{experiment.fields[field.id]}}</a>
	      </div>
	      <div data-ng-if="!field.link">
		{{experiment.fields[field.id]}}
	      </div>
	    </div>
	    <div data-ng-switch-default>
	      {{experiment.fields[field.id]}}
	    </div>
	  </div>
	</td>
      </tr>
    </tbody>
  </table>
</div>

<script>
  $(document).ready(function() {
      $('#experiment-table').DataTable({
	  "paging": false,
	  "info": false,
      });
} );
</script>
